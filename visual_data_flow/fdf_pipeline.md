# FdF Rendering Pipeline - Visual Breakdown

## Data Flow: From File to Screen

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FILE INPUT: map.fdf                                                 â”‚
â”‚ Format:                                                             â”‚
â”‚   2  1  5  3                                                        â”‚
â”‚   4  7  2  6                                                        â”‚
â”‚   1  3  5  8                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PARSING LAYER                                                       â”‚
â”‚                                                                     â”‚
â”‚ get_next_line() â”€â”€â–º "2 1 5 3" (string)                             â”‚
â”‚ parse_line() â”€â”€â”€â”€â”€â”€â–º Split by space                                â”‚
â”‚ is_valid_number() â”€â–º Validate each token                           â”‚
â”‚ Result: Array of t_point                                           â”‚
â”‚                                                                     â”‚
â”‚ points[0][0] = {x:0, y:0, z:2}                                     â”‚
â”‚ points[0][1] = {x:1, y:0, z:1}                                     â”‚
â”‚ points[0][2] = {x:2, y:0, z:5}                                     â”‚
â”‚ points[0][3] = {x:3, y:0, z:3}                                     â”‚
â”‚                                                                     â”‚
â”‚ count_height() â”€â”€â”€â”€â–º 3 rows                                        â”‚
â”‚ count_width() â”€â”€â”€â”€â”€â–º 4 columns                                     â”‚
â”‚ init_z_minmax() â”€â”€â”€â–º z_min=1, z_max=8                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3D POINT GRID (in memory)                                           â”‚
â”‚                                                                     â”‚
â”‚ map.points = 2D array of t_point                                   â”‚
â”‚   Width: 4, Height: 3                                              â”‚
â”‚   Z Range: 1 to 8                                                  â”‚
â”‚                                                                     â”‚
â”‚   y=0: [{0,0,2} {1,0,1} {2,0,5} {3,0,3}]                           â”‚
â”‚   y=1: [{0,1,4} {1,1,7} {2,1,2} {3,1,6}]                           â”‚
â”‚   y=2: [{0,2,1} {1,2,3} {2,2,5} {3,2,8}]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TRANSFORMATION STAGE 1: apply_transforms()                          â”‚
â”‚ For each point, do:                                                â”‚
â”‚                                                                     â”‚
â”‚  STEP 1: CENTER                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â”‚
â”‚  p = {x:0, y:0, z:2}                                               â”‚
â”‚  center_x = (4-1)/2 = 1.5                                          â”‚
â”‚  center_y = (3-1)/2 = 1.0                                          â”‚
â”‚  p.x -= center_x  â”€â”€â–º -1.5                                         â”‚
â”‚  p.y -= center_y  â”€â”€â–º -1.0                                         â”‚
â”‚  p.z *= z_scale   â”€â”€â–º 2 * 0.8 = 1.6  (if z_scale=0.8)             â”‚
â”‚                                                                     â”‚
â”‚  STEP 2: ZOOM                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                    â”‚
â”‚  p.x *= zoom  â”€â”€â–º -1.5 * 50 = -75  (if zoom=50)                    â”‚
â”‚  p.y *= zoom  â”€â”€â–º -1.0 * 50 = -50                                  â”‚
â”‚  p.z *= zoom  â”€â”€â–º 1.6 * 50 = 80                                    â”‚
â”‚                                                                     â”‚
â”‚  STEP 3: PROJECT (3D â†’ 2D)                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
â”‚  Result: {x: -75, y: -50, z: 80} â”€â”€â”                               â”‚
â”‚                                     â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TRANSFORMATION STAGE 2: project_point()                             â”‚
â”‚                                                                     â”‚
â”‚ Check camera type:                                                  â”‚
â”‚                                                                     â”‚
â”‚ ISOMETRIC PATH:                                                    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                    â”‚
â”‚ isometric(x, y, z):                                                â”‚
â”‚   x' = (x - y) * cos(30Â°) = (-75 - (-50)) * 0.866                  â”‚
â”‚      = -25 * 0.866 = -21.65                                        â”‚
â”‚   y' = (x + y) * sin(30Â°) - z = (-75 + -50) * 0.5 - 80             â”‚
â”‚      = -125 * 0.5 - 80 = -62.5 - 80 = -142.5                       â”‚
â”‚                                                                     â”‚
â”‚ Result: {x: -21.65, y: -142.5, z: 80}  (z unused in 2D)            â”‚
â”‚                                                                     â”‚
â”‚ PARALLEL PATH:                                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                     â”‚
â”‚ Apply rotation matrices:                                           â”‚
â”‚   rotate_x(&y, &z, angle_x)  â”€â–º Rotation around X axis             â”‚
â”‚   rotate_y(&x, &z, angle_y)  â”€â–º Rotation around Y axis             â”‚
â”‚   rotate_z(&x, &y, angle_z)  â”€â–º Rotation around Z axis             â”‚
â”‚ Result: Rotated {x, y, z}                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TRANSFORMATION STAGE 3: Add Camera Offsets                          â”‚
â”‚                                                                     â”‚
â”‚ offset_x = WIN_WIDTH / 2   = 1920 / 2 = 960                        â”‚
â”‚ offset_y = WIN_HEIGHT / 2  = 1080 / 2 = 540                        â”‚
â”‚                                                                     â”‚
â”‚ screen_x = proj_x + offset_x = -21.65 + 960 = 938.35               â”‚
â”‚ screen_y = proj_y + offset_y + z_offset = -142.5 + 540 + 10        â”‚
â”‚          = 407.5                                                   â”‚
â”‚                                                                     â”‚
â”‚ Final Screen Point: {x: 938, y: 407} (rounded to int)              â”‚
â”‚                                                                     â”‚
â”‚ This point is now ready to be drawn on screen!                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LINE DRAWING: draw_line() & draw_bresenham()                        â”‚
â”‚                                                                     â”‚
â”‚ Connect neighboring points with lines:                             â”‚
â”‚                                                                     â”‚
â”‚ From: Screen Point 1 = {938, 407, z:2}                             â”‚
â”‚ To:   Screen Point 2 = {965, 410, z:1}                             â”‚
â”‚                                                                     â”‚
â”‚ GET COLORS:                                                        â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                        â”‚
â”‚ z1 = 2, z_max = 8, z_min = 1                                       â”‚
â”‚ ratio1 = (2 - 1) / (8 - 1) = 1/7 â‰ˆ 0.143                           â”‚
â”‚ color1_r = 50 + 205 * 0.143 = 79  â”€â”€â”                              â”‚
â”‚ color1_g = 50 + 205 * 0.143 = 79   â”œâ”€â”€â–º Dark Blue (79,79,255)     â”‚
â”‚ color1_b = 255                      â”˜                              â”‚
â”‚                                                                     â”‚
â”‚ z2 = 1, ratio2 = 0                                                  â”‚
â”‚ color2 = (50, 50, 255)  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Dark Blue (50,50,255)          â”‚
â”‚                                                                     â”‚
â”‚ RASTERIZE WITH BRESENHAM:                                          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                          â”‚
â”‚ From (938, 407) to (965, 410)                                      â”‚
â”‚ dx = 27, dy = 3                                                    â”‚
â”‚                                                                     â”‚
â”‚ Initialize:                                                        â”‚
â”‚   v[0] = |27| = 27   (dx)                                          â”‚
â”‚   v[1] = -|3| = -3   (-dy)                                         â”‚
â”‚   v[2] = 1           (x direction: positive)                       â”‚
â”‚   v[3] = 1           (y direction: positive)                       â”‚
â”‚   v[4] = 27 + (-3) = 24  (error)                                   â”‚
â”‚                                                                     â”‚
â”‚ STEPPING LOOP:                                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                     â”‚
â”‚ Step 0: (x=938, y=407)  fraction=0.0   color=dark_blue             â”‚
â”‚ Step 1: (x=939, y=407)  fraction=0.037 color=slightly_lighter      â”‚
â”‚ Step 2: (x=940, y=408)  fraction=0.074 color=more_lighter          â”‚
â”‚ ...                                                                â”‚
â”‚ Step 27: (x=965, y=410) fraction=1.0   color=endpoint_color        â”‚
â”‚                                                                     â”‚
â”‚ For each step:                                                     â”‚
â”‚   Calculate: fraction = (current_pos - start) / (end - start)      â”‚
â”‚   Blend: mixed_color = color1 + (color2 - color1) * fraction       â”‚
â”‚   Write: put_pixel(x, y, mixed_color)                              â”‚
â”‚                                                                     â”‚
â”‚ Result: A smoothly color-gradiated line on screen!                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ REPEAT FOR ALL POINT PAIRS                                          â”‚
â”‚                                                                     â”‚
â”‚ For each point (x, y) in grid:                                     â”‚
â”‚   If x < width-1:   Draw line to (x+1, y)  [horizontal]            â”‚
â”‚   If y < height-1:  Draw line to (x, y+1)  [vertical]              â”‚
â”‚                                                                     â”‚
â”‚ This creates a complete wireframe mesh!                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRAME BUFFER DISPLAY                                                â”‚
â”‚                                                                     â”‚
â”‚ Frame Buffer (1920x1080):                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚ â”‚                                                  â”‚                â”‚
â”‚ â”‚             ğŸŒ 3D MAP WIREFRAME ğŸŒ              â”‚                â”‚
â”‚ â”‚                                                  â”‚                â”‚
â”‚ â”‚    â•±â•²â•±â•²â•±â•²      (Blue gradient lines)            â”‚                â”‚
â”‚ â”‚   â•±  â•²  â•²â•²                                      â”‚                â”‚
â”‚ â”‚  â•±    â•²  â•²                                      â”‚                â”‚
â”‚ â”‚ â•±      â•²__â•²                                     â”‚                â”‚
â”‚ â”‚                                                  â”‚                â”‚
â”‚ â”‚ Darker = Lower elevation    Lighter = Higher    â”‚                â”‚
â”‚ â”‚                                                  â”‚                â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                     â”‚
â”‚ Display updated on screen via MLX graphics library                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ USER INTERACTION - EVENT LOOP                                       â”‚
â”‚                                                                     â”‚
â”‚ User presses arrow key â”€â”€â”€â”€â”€â”€â–º key_hook() called                   â”‚
â”‚   â”œâ”€ Update offset_x or offset_y                                   â”‚
â”‚   â””â”€ Call draw_map() â”€â”€â–º GOTO "Transformation Stage 1"             â”‚
â”‚                                                                     â”‚
â”‚ User scrolls mouse â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º scroll_hook() called                â”‚
â”‚   â”œâ”€ Adjust zoom (multiply/divide by 1.1)                          â”‚
â”‚   â””â”€ Call draw_map() â”€â”€â–º GOTO "Transformation Stage 1"             â”‚
â”‚                                                                     â”‚
â”‚ User resizes window â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º resize_hook() called                â”‚
â”‚   â”œâ”€ Delete old image buffer                                       â”‚
â”‚   â”œâ”€ Create new image buffer at new size                           â”‚
â”‚   â”œâ”€ Update offset_x and offset_y for new center                   â”‚
â”‚   â””â”€ Call draw_map() â”€â”€â–º GOTO "Transformation Stage 1"             â”‚
â”‚                                                                     â”‚
â”‚ User presses 1, 2, 3, or I â”€â–º set_view() called                    â”‚
â”‚   â”œâ”€ Change camera type (ISOMETRIC / PARALLEL)                     â”‚
â”‚   â”œâ”€ Set rotation angles (angle_x, angle_y, angle_z)               â”‚
â”‚   â””â”€ Call draw_map() â”€â”€â–º GOTO "Transformation Stage 2"             â”‚
â”‚                                                                     â”‚
â”‚ User presses ESC â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º mlx_close_window()                   â”‚
â”‚   â”œâ”€ Exit event loop                                               â”‚
â”‚   â”œâ”€ free_map() - deallocate all points                            â”‚
â”‚   â”œâ”€ mlx_terminate() - close graphics                              â”‚
â”‚   â””â”€ Program ends                                                  â”‚
â”‚                                                                     â”‚
â”‚ All other inputs: Loop back to waiting for next event              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Color Interpolation Detail

When drawing a line from a low point (dark blue) to a high point (light blue):

```
Endpoint 1 (z=1):     Endpoint 2 (z=8):
RGB: (50, 50, 255)    RGB: (255, 255, 255)  [white]
Dark Blue             Light Blue/White

Along the line:
Position    Fraction    R               G               B
0%          0.0         50              50              255     (dark)
25%         0.25        101             101             255     
50%         0.5         152             152             255     (middle)
75%         0.75        203             203             255     
100%        1.0         255             255             255     (light)

Formula for each channel:
result_channel = start + (end - start) * fraction
r_mid = 50 + (255-50) * 0.5 = 50 + 102.5 = 152.5
g_mid = 50 + (255-50) * 0.5 = 50 + 102.5 = 152.5
b_mid = 255 + (255-255) * 0.5 = 255
```

## Projection Types

### ISOMETRIC (Fixed 30-degree angle)
```
       Y axis
       â†‘
      â•±
     â•± 30Â°      X axis â†’
    â•±
    
Original point: (x=-1.5, y=-1.0, z=1.6)

After isometric projection:
  x' = (x - y) * cos(30Â°)
     = (-1.5 - (-1.0)) * 0.866
     = -0.5 * 0.866
     = -0.433

  y' = (x + y) * sin(30Â°) - z
     = (-1.5 + (-1.0)) * 0.5 - 1.6
     = -2.5 * 0.5 - 1.6
     = -1.25 - 1.6
     = -2.85

Result: (-0.433, -2.85)  â† Now 2D screen coordinates!
```

### PARALLEL (Rotatable - using rotation matrices)
```
Rotation around X-axis (pitch):
  y' = y * cos(angle) - z * sin(angle)
  z' = y * sin(angle) + z * cos(angle)

Rotation around Y-axis (yaw):
  x' = x * cos(angle) + z * sin(angle)
  z' = -x * sin(angle) + z * cos(angle)

Rotation around Z-axis (roll):
  x' = x * cos(angle) - y * sin(angle)
  y' = x * sin(angle) + y * cos(angle)

These can be chained together to create any 3D orientation!
```

## Complete Processing Example

```
Input: Single point from file
  Raw data: "5"  (the Z height value at position x=1, y=2)

After Parsing:
  t_point p = {x: 1.0, y: 2.0, z: 5.0, color: 0}

After Coloring (height-based):
  z_range: 1 to 8
  ratio = (5 - 1) / (8 - 1) = 4/7 â‰ˆ 0.571
  r = 50 + 205 * 0.571 = 167
  g = 50 + 205 * 0.571 = 167
  b = 255
  color = (167, 167, 255, 255)  â† Medium blue

After Transform (centered, scaled, projected):
  Center offset: map_center_x = 1.5, map_center_y = 1.0
  p.x = 1.0 - 1.5 = -0.5
  p.y = 2.0 - 1.0 = 1.0
  p.z = 5.0 * z_scale = 5.0 * 0.8 = 4.0

After Zoom (zoom = 50):
  p.x = -0.5 * 50 = -25.0
  p.y = 1.0 * 50 = 50.0
  p.z = 4.0 * 50 = 200.0

After Isometric Projection:
  x' = (-25 - 50) * cos(30Â°) = -75 * 0.866 = -64.95
  y' = (-25 + 50) * sin(30Â°) - 200 = 25 * 0.5 - 200 = -187.5

After Offset (to center of 1920x1080 window):
  offset_x = 960, offset_y = 540
  screen_x = -64.95 + 960 = 895.05 â‰ˆ 895
  screen_y = -187.5 + 540 + 10 = 362.5 â‰ˆ 362

Final Screen Position: (895, 362) with color (167, 167, 255)
```
